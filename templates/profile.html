<!doctype html>
<html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>My Profile (Demo)</title>
<style>body{font-family:system-ui,Arial,sans-serif;max-width:760px;margin:24px auto;padding:0 16px} .card{border:1px solid #ddd;border-radius:12px;padding:12px;margin:8px 0} input,textarea{width:100%;padding:10px;border:1px solid #ccc;border-radius:10px}</style></head>
<body>
<h1>My Profile (Demo)</h1>
<form method="POST">
  <div class="card">
    <label>Email (used to load your demo data)</label>
    <input name="email" type="email" required placeholder="you@example.org" />
    <label style="margin-top:8px">Preferred name (optional)</label>
    <input name="name" />
    <div style="margin-top:8px"><button type="submit">Save / Sign in</button></div>
    <p class="muted">Demo only; non-persistent. Do not upload sensitive documents here.</p>
  </div>
</form>

{% if user %}
<div class="card">
  <h2>Goals</h2>
  <form method="POST" action="/goal/add"><input name="text" placeholder="Add a goal (e.g., 'Get state ID')" /><div style="margin-top:8px"><button type="submit">Add</button></div></form>
  <ul>{% for g in user.goals %}<li>{{ g.text }} — {{ g.ts }}</li>{% endfor %}{% if not user.goals %}<li class="muted">No goals yet.</li>{% endif %}</ul>
</div>

<div class="card">
  <h2>Uploads</h2>
  <form method="POST" action="/upload" enctype="multipart/form-data">
    <input type="file" name="file" />
    <div style="margin-top:8px"><button type="submit">Upload (demo)</button></div>
  </form>
  <ul>{% for f in user.uploads %}<li>{{ f.filename }} ({{ f.size }} bytes)</li>{% endfor %}{% if not user.uploads %}<li class="muted">No files uploaded.</li>{% endif %}</ul>
  <p class="muted">Demo: files are not stored persistently.</p>
</div>
{% endif %}

<p><a href="/">← Back</a></p>
</body></html>
